<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="select">
  	<resultMap type="com.netMiner.app.model.vo.MailVo" id="MailVo">
  		<id property="emailCode" column="EMAIL_CODE"/>
  		<result property="title" column="TITLE"/>
		<result property="comment" column="COMMENT"/>
  	</resultMap>
  
  	<select id="selectNation" resultType="hashMap">
  	SELECT NATION_CODE, NATION_NAME_KR, NATION_NAME_EN FROM  NetMiner.NATION_CODE;
  	</select>
  	
  	<select id="selectEmail" parameterType="String" resultType="MailVo">
  	SELECT EMAIL_CODE, TITLE, COMMENT
	FROM NetMiner.EMAIL_INFO
	WHERE EMAIL_CODE = #{mailCode};
  	</select>
  	
  	<select id="getCheckData" resultType="Map">
  	SELECT  DATE_FORMAT(A.START_DATE,'%Y-%m-%d %H') as START_DATE,  DATE_FORMAT(A.END_DATE,'%m-%d %H') AS END_DATE, A.STATS_YN, A.END_DATE_YN, A.COMMENT_KR, A.COMMENT_EN 
	 FROM NetMiner.CHECK_START_END_TIME A
	WHERE NO = (SELECT MAX(NO) FROM NetMiner.CHECK_START_END_TIME)
	AND NOW() BETWEEN START_DATE AND END_DATE;
  	</select>
  </mapper>